from chongo landon c noll subject reposting international obfuscated c code contest rule of we have receive a number of request for a reposting of the international obfuscated c code contest rule and guideline also some person request that these rule be post to a wider set of group sorry for the cro post some technical clarification be make to the rule and guideline see the diff mark at the right hand edge the rule and guideline for thi year remain the same so person who have already or be in the proces of submit entry for the ioccc need not worry about these change chongo landon curt noll cc chongo larry bassel lab thi be part of a multipart archive echo x extract text sed x x x copyright c landon curt noll larry bassel x all right reserved permission for personal education or non-profit use x be grant provide thi thi copyright and notice be include in it x entirety and remain unaltered all other use must receive prior x permission in write from both landon curt noll and larry bassel x x x mkentry make an international obfuscated c code contest entry x x usage x mkentry r remark b build p o x x r remark file with remark about the entry x b build file contain how should be build x p the obfuscate program source file x o ioccc entry output file x x compile by x cc o mkentry x x x placed in the public domain by landon curt noll x x thi software is provided a is and without any expres or implied x warranty including without limitation the implied warranty of x merchantability and fitnes for a particular purpose x x x warning x x thi program attempt to implement the ioccc rule every attempt x ha be make to make sure that thi program produce an entry that x conform to the contest rule in all case where thi program x differ from the contest rule the contest rule will be use be x sure to check with the contest rule before submit an entry x x for more information x x you may contact the judge by send email to the follow addres x x apple pyramid sun uunet hoptoad judge not the addres for x judge submit entry x x question and comment about the contest be welcome x x the rule and the guideline may and often do change from year to x year you should be sure you have the current rule and guideline x prior to submit entry to obtain them send email to the addres x above and use the subject rule x x one may obtain winner of previou contest to date vium ftp from x x host x user anonymou x pa yourname yourhost x dir x x a a last resort previou winner may be obtain by send email x to the above addres please use the subject year winner x where year be a single digit year a year range or x x because contest rule change from year to year one should only use thi x program for the year that it wa intend be sure that the x define below match thi current year x x x include x include x include x include x include x x logic x ifndef true x define true x endif true x ifndef false x define false x endif false x define true x define false x x global limit x define note should match the current year x define utc first confirmation receive x define max column a line should hit x define max how to build size x define max program source size x define max program source size not count x whitespace and not follow by x whitespace or eof x define max char in the title x define max length in the entry input line x define max number of entry per person per year x define max filename length for a info file x x where to send entry x define apple pyramid sun uunet hoptoad obfuscate x define obfuscate x x uuencode proces assume ascius x define uuencode c int c x define max uuencode chunk size x define mode of an info file uuencode file x define mode of the build file uuencode file x define build name for the build file uuencode file x define mode of the program uuencode file x define name for the program uuencode file x x char val be the uuencoded character of val xchar abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz x x global declaration xchar program my name xlong the startup time x x forward declaration xvoid xvoid usage xfile xfile xfile xfile xvoid xvoid xvoid xvoid xvoid xvoid xvoid xint xvoid xint xvoid xvoid uuencode x xmain argc argv x int argc arg count x char argv the arg x x file open remark stream x file open build file stream x file open program stream x file open output stream x char file with remark about the entry x char file contain how should be build x char the obfuscate program source file x char ioccc entry output file x struct tm tm startup time structure x x x check on the year x x time long x tm gmtime x if tm x fprintf stderr x s warning thi program apply to d which may differ from x argv x x x x parse the command line arg x x argc argv rname bname pname oname x x x the input and output file x x we open and truncate the output file first in case it be the same x a one of the input file x x output oname x remark rname x build bname x prog pname x if x exit x x x x output each section x x output oname x output oname remark rname x output oname x output oname x output oname build bname x output oname prog pname x output oname x x x flush the output x x if fflush output eof x fprintf stderr s flush error in s program oname x perror x exit x x x x final word x x printf nymy entry can be find in s you should check thi x oname x printf correct any problem and verify that the uudecode utility x printf correctly decode ymy build file and x printf thi program ha be provide a a guide for submitter x printf case where it conflict with the rule the rule shall x printf it be ymy responsibility to ensure that ymy entry conform x printf the current x printf email ymy entry to n x printf t x printf t x printf please use the follow subject when you email ymy entry n x printf tioccc x all do x exit x x x x parse the command line arg x x given the command line arg thi function parse them and set the x require name flag thi function will return only if the command x line syntax be correct x xvoid argc argv rname bname pname oname x int argc arg count x char argv the arg x char rname file with remark about the entry x char bname file contain how should be build x char pname the obfuscate program source file x char oname ioccc entry output file x x char optarg flag option operand x int flagname the name of the flag x int i x x x not everyone ha getopt so we must parse arg by hand x x program argv x for i argc i x x determine the flagname x if argv i x usage x notreached x x flagname int argv i x x determine the flag operand x if flagname argv i x optarg argv i x else x if argc x usage x notreached x else x optarg argv i x x x x save the flag operand in the correct global variable x switch flagname x case x rname optarg x break x case x bname optarg x break x case x pname optarg x break x case x oname optarg x break x default x usage x notreached x x x x x verify that we have all of the require flag x x if rname null bname null pname null oname null x usage x notreached x x return x x x x usage print a usage message and exit x x thi function do not return x xvoid xusage exitval x int exitval exit with thi value x x fprintf stderr x usage s r remark b build p o program x fprintf stderr t-r with remark about the x fprintf stderr t-b contain how should be x fprintf stderr t-p obfuscate program source x fprintf stderr t-o entry output x exit exitval x x x x the remark file x x the remark file should be indent by space and should not extend x beyond column these be not requirement so we only warn x x thi function return null on or format error x xfile filename x char filename x x file stream the open file stream x char buf input buffer x int number of line that be too long x int number of line not indent by space x x x open the remark input file x x stream fopen filename r x if stream null x fprintf stderr s can not open remark file s x program filename x perror x return null x x x x look at each line x x while fget buf bufsiz stream null x x count line that do not start with space x if buf strncmp buf x x x x count long line x if buf x find a line that be too long x toolong x x x x watch for error x stream filename x x note long line if need x if toolong x fprintf stderr x s warning d line s from s extend beyond the x program toolong filename x fprintf stderr x s thi be ok but it would be nice to x program x x x note non-indented line if need x if x fprintf stderr x s warning d line s from s be not indent by x program filename x fprintf stderr x s thi be ok but it would be nice to x program x x x return the open file x rewind stream x return stream x x x x the build file x x the how to build file must not be longer than byte x x thi function return null on or size error x xfile filename x char filename x x file stream the open file stream x struct stat statbuf the statu of the open file x x x open the how to build input file x x stream fopen filename r x if stream null x fprintf stderr s can not open how to build file s x program filename x perror x return null x x x x determine the size of the file x x if fstat fileno stream statbuf x fprintf stderr s can not stat how to build file s x program filename x perror x return null x x if x fprintf stderr x s fatal the how to build file s be d byte x program filename x fprintf stderr x s it may not be longer than d x program x return null x x x return the open file x return stream x x x x the program source file x x the program source file must be byte the number of x non-whitespace and char not follow by whitespace must x be byte x x thi function return null on or size error x xfile filename x char filename x x file stream the open file stream x struct stat statbuf the statu of the open file x int count special count size x int c the character read x x x open the program source input file x x stream fopen filename r x if stream null x fprintf stderr s can not open program source file s x program filename x perror x exit x x x x determine the size of the file x x if fstat fileno stream statbuf x fprintf stderr s can not stat program source file s x program filename x perror x return null x x if x fprintf stderr x s fatal the program source file s be d byte x program filename x fprintf stderr x s it may not be longer than d x program x return null x x x x count the non-whitespace non follow by whitespace char x x count x c x while stream eof x look at non-whitespace x if isascius c isspace c x switch c x case count if not follow by eof or whitespace x case x case x peek at next char x c fgetc stream x if c eof isascius c isspace c x not follow by whitespace or eof count it x ungetc c stream x count x x break x default x count x break x x x x x watch for error x stream filename x x look at the special size x if count x fprintf stderr x s fatal the number of byte that be non-whitespace x program x fprintf stderr x s that be not follow by x program x fprintf stderr x s or eof must be d x program x fprintf stderr x s in s d byte be x program filename count x return null x x x return the open file x rewind stream x return stream x x x x the entry output file x x thi function return null on open error x xfile filename x char filename x x file stream the open file stream x x x open the ioccc entry output file x x stream fopen filename w x if stream null x fprintf stderr s can not open ioccc entry file for output s x program filename x perror x exit x x x return the open file x return stream x x x x output the entry section x x read the need information form stdin and write the entry section x xvoid output oname x file output entry output file stream x char oname name of the output file x x char title the entry title x char buf buffer x int entry number x int ret field process by fscanf x int the line be not ok x char skip input to skip x file pipe to a date command x second since the epoch x char p x x x write the start of the section x x fprintf output entry n x output oname x x x write the rule year x x fprintf output rule t x output oname x x determine if thi be a fix x printf is thi a fix update or resubmittion to a x printf previou entry enter y or n x while buf buf y buf n x printf nplease answer y or n x x if buf x fprintf output fix x output oname x printf nbe sure that the title and entry number that you x printf be the same of a the entry you be x else x fprintf output fix x output oname x x x x write the title x x printf nymy title must match expression be a x printf follow by to d more x x printf it be suggest but not require that the title x printf incorporate ymy username in x printf case of multiple author consider use part of the x printf of the x printf enter ymy title x do x prompt and read a line x if title x printf ntitle be too long please re-enter x continue x x x verify the pattern not everyone ha regexp so do it by hand x if isascius int title x isalnum int title title title x printf ninvalid first character in the x printf enter ymy title x x else x for p title p p p x if isascius int p x isalnum int p x p p p p x printf ninvalid character in the x printf enter ymy title x x x x x while x fprintf output title t s title x output oname x x x write the entry number x x printf neach person may submit up to d entry per x x printf enter an entry number from to d inclusive x do x get a valid input line x fflush stdout x ret fscanf stdin d n entry x stdin stdin x skip over input until newline be find x do x skip fgetc stdin x stdin stdin x if skip x bad text in input invalidate entry number x entry x x while skip x x check if we have a number and if it be in range x if ret entry entry x printf x nthe entry number must be between and d x x printf enter the entry number x x while ret entry entry x fprintf output entry t entry x output oname x x x write the submission date x x return a newline x time null x fprintf output date t s asctime gmtime x output oname x x x write the host information x x printf x nenter the machine s and o s under which ymy entry wa x output oname host x x x x output the remark section x x read the need information form stdin and write the entry section x xvoid output oname remark rname x file output entry output file stream x char oname name of the output file x file remark stream to the file contain remark text x char rname name of the remark file x x char buf buffer x x x write the start of the section x x fprintf output remark n x output oname x x x copy the remark file to the section x x while fget buf bufsiz remark null x fput buf output x output oname x x remark rname x x be sure that the remark section end with a newline x if buf strlen buf x fputc output x output oname x x x x x output the author section x x read the need information from stdin and write the author section x if multiple author exist multiple author section will be write x xvoid output oname x file output entry output file stream x char oname name of the output file x x char buf buffer x int true more author to note x int number of author process x x x prompt the user for the author section x x printf nenter information about each author if ymy entry be x printf s and before the contest deadline the x printf will attempt to email back a confirmation to the first x x x place author information for each author in an individual section x x do x x write the start of the section x fprintf output author n x output oname x x write the author x printf nauthor d name x while buf x printf nname too long please re-enter x x fprintf output name t s buf x output oname x x write the organization x printf nenter the of author x x printf nauthor d org x while buf x printf nline too long please re-enter x x fprintf output org t s buf x output oname x x write the addres x printf x nenter the postal addres for author d be sure to x x printf ymy country and do not include ymy x output oname addr x x write the email addres x printf x nenter the email addres for author d use an addres x x printf x a register domain or well know site if you give x printf form list them one per x output oname email x x write the anonymou statu x printf nshould author d remain anonymou enter y or n x x while buf buf y buf n x printf nplease answer y or n x x fprintf output anon t s buf x output oname x x determine if there be another author x printf ni there another author enter y or n x while buf buf y buf n x printf nplease answer y or n x x if buf x true x else x false x x while true x return x x x x output the info section s x x read the need information from stdin and write the info section x if multiple info file exist multiple info section will be write x xvoid output oname x file output entry output file stream x char oname name of the output file x x char infoname filename buffer x char yorn y or n answer x char uuname name to uuencode a x file infile info file stream x x x prompt the user for info information x x printf ninfo file should be use only to supplement ymy x printf for example info file may provide sample input or x printf information about ymy entry because they be supplemental n x printf the entry should not require them to x x x while there be another info file to save uuencode it x x printf do you have a info file to include enter y or n x while yorn yorn y yorn n x printf nplease answer y or n x x while yorn x x read the filename x printf nenter the info filename x while infoname x printf ninfo filename too long please re-enter x x x compute the basename of the info filename x remove the trail newline x uuname infoname strlen infoname x uuname x avoid compat issue do it by hand x for uuname uuname infoname uuname x if uuname x uuname x break x x x x attempt to open the info file x infile fopen infoname r x if infile null x fprintf stderr n s can not open info file s x program infoname x perror x continue x x x x write the start of the section x x fprintf output info n x output oname x x uuencode the info file x uuencode output oname infile infoname uuname x x printf ndo you have another info file to include enter y or n x while yorn yorn y yorn n x printf nplease answer y or n x x x return x x x x output the build section x x read the need information from stdin and write the build section x xvoid output oname build bname x file output entry output file stream x char oname name of the output file x file build open build file stream x char bname name of the build file x x x write the start of the section x x fprintf output build n x output oname x x x uuencode the program file x x uuencode output oname build bname x return x x x x output the program section x x read the need information form stdin and write the program section x xvoid output oname prog pname x file output entry output file stream x char oname name of the output file x file prog open program stream x char pname name of program file x x x write the start of the section x x fprintf output program n x output oname x x x uuencode the program file x x uuencode output oname prog pname x return x x x x output the end section x x read the need information form stdin and write the section x xvoid output oname x file output entry output file stream x char oname name of the output file x x x write the final section terminator x x fprintf output end n x output oname x return x x x x get an answer from stdin x x thi function will flush stdout in case a prompt be pending and x read in the answer x x thi function return if the line be too long of the length of the x line include the newline of the line wa ok thi function do x not return if error or eof x xint buf siz maxcol x char buf input buffer x int siz length of input include the newline x int maxcol max col allow disable check x x int length the length of the input line x x flush terminal output x fflush stdout x x read the line x if fget buf stdin null x report the problem x stdin stdin x x x look for the newline x length strlen buf x if buf x int eatchar the char be eat x x no newline find line must be too long eat the rest of the line x do x eatchar fgetc stdin x while eatchar eof eatchar x stdin stdin x x report the situation x return x x x watch for long line if need x if maxcol length maxcol buf maxcol x report the situation x return x x x return length x return length x x x x output a set of line until by itself be read x x thi routine will read a set of line until but not include x a single line with be read the format of the output be x x leader tfirst line x tnext line x tnext line x x x thi routine will not return if error or eof x xvoid output oname leader x file output entry output file stream x char oname name of the output file x char leader the lead text for the first line x x char buf input buffer x int count line read x int true finish read input x x instruct the user on how to input x printf nto end input enter a line with a single x x read line until or eof x count x while do x issue the prompt x printf count leader x fflush stdout x x get the line x if buf bufsiz x printf nline too long please re-enter x continue x x x note if wa read x if strcmp buf n x do true x x x write line if we read something x if do x fprintf output s count leader buf x output oname x x x x if no line read at least output something x if count x fprintf output leader x output oname x x return x x x x determine the highest that a string would reach x x given a string thi routine return that a string would reach x if the string be print at column tab stop be assume x to start at x xint string x char string the string to examine x x int col current column x char p current char x x scan the string x for p p p x note the column shift x col x x if p x col x x x return the highest column x return col x x x x check for eof or error on a stream x x do not return if eof or error x xvoid stream name x file stream the stream to check x char name the name of thi stream x int or x x test for error x if ferror stream x fprintf stderr s error on s program name x perror x exit x x test for eof x else if feof stream x fprintf stderr s eof on program name x exit x x return x x x x uuencode uuencode a file x x perform the uuencoding proces identical to the proces perform x by the uuencode utility x x thi routine implement the algorithm describe in the uuencode x reno man page x xvoid xuuencode output oname infile iname umode uname x file output output file stream x char oname output filename x file infile input file stream x char iname input filename x int umode the mode to put on the uuencode file x char uname name to put on the uuencode file x x char buf the uuencode buffer x int actual number of char read x int val bite chunk from buf x char filler uuencode pad text x char p x x x output the initial uuencode header x x fprintf output begin o umode uname x output oname x x x clear out the input buffer x x for p buf sizeof buf sizeof buf p x p x x x x we will proces char at a time form x a single output line each time x x while buf sizeof buf infile x x x the first character be the length character x x fputc uuencode output x output oname x x x we will convert bite at a time thu we will convert x set of bite into set of uuencoded bite x x for x x bite to x val p x fputc uuencode val output x output oname x x bite to x val p p x fputc uuencode val output x output oname x x bite to x val p p x fputc uuencode val output x output oname x x bite to x val p x fputc uuencode val output x output oname x x x end of line x fputc output x output oname x x x clear out the input buffer do depend on bzero or memset x x for p buf sizeof buf sizeof buf p x p x x x x check the last read on the input file x infile iname x x write end of uuencode file x fprintf output uuencode filler x output oname x chmod echo restore of fail set wc c if test then echo original size current size fi echo x extract text sed obfuscated contest information x xcopyright c landon curt noll larry bassel xall right reserved permission for personal education or non-profit use be xgranted provide thi thi copyright and notice be include in it entirety xand remain unaltered all other use must receive prior permission in write xfrom both landon curt noll and larry bassel x xthe international obfuscated c code contest ioccc in the sprit of xco-operation be will mention other program content a space xpermit x xhow to have ymy contest include in thi file x x if you wish the ioccc judge to include ymy contest in thi file x send a request to x x judge x x we request that contest description be limit to line and to x not exceed byte we typically request that ymy contest x include a current description of the ioccc x x in order to be include in thi file for give year we must x receive a current description no earlier than jan utc and x no later than feb utc agreement to publish ymy x contest must also be obtain prior to feb annual contest x that fail to submit a new entry will be drop from thi file x xofficial disclaimer pardon the officialese x x the content note below other than the ioccc be not affiliate x with the ioccc nor be they endorse by the ioccc we reserve the x right to refuse to print information about a give contest x x the information below wa provide by the particular contest x organizer s and print by permission please contact the x contest organizer s directly regard their content x xwith that official notice give we present for ymy enjoyment the follow xinformation about content x x x x international obfuscated c contest x x the original obfuscate contest x x obfuscate cat cat cate a to render obscure x b to darken to confuse their emotion obfuscate x their judgment llat obfuscare to darken ob intensive x lat fuscare to darken fuscu dark obfuscation n x obfuscatory adj x x goal of the contest x x to write the most c program under the rule below x to show the importance of program style in an ironic way x to stres c compiler with unusual code x to illustrate some of the subtlety of the c language x to provide a safe forum for poor c code x x the ioccc be the grandfather of usenet program contest since x thi contest demonstrate that a program that simply work x correctly be not sufficient the ioccc ha also do much to add x the arcane word back into the english language x see the new hacker dictionary by eric raymond x x you be strongly encourage to read the new contest rule before x send any entry the rule and sometime the contest email x addres itself change over time a valid entry one year may x be reject in a later year due to change in the rule the typical x start date for contest be in early march contest rule be normally not x finalize and post until the begin of the contest the typical x close date for contest be in early may x x the rule and the guideline may and often do change from year to x year you should be sure you have the current rule and guideline x prior to submit entry to obtain them send email to the addres x above and use the subject rule x x one may obtain winner of previou contest to date vium ftp from x x host x user anonymou x pa yourname yourhost x dir x x a a last resort previou winner may be obtain by send email x to the above addres please use the subject year winner x where year be a single digit year a year range or x x x x international obfuscated perl contest x by landon noll larry wall x x thi content be be plan someday when landon larry be not too x busy they will actually get around to post the first set of rule x x landon say ye i know that i say we would have a contest in x but other exist project get in the way hopefully x something will be develop after nov x x x x international obfuscated postscript contest x jonathan monsarrat jgm x alena lacova alena x x a contest of program skill and knowledge exclusively for the x postscript program language it purpose x x to spread knowledge of postscript and it detail x to applaud those with the best trick x to prove that human can beat those damnable machine generator at x their own game by write the most obscure and mysteriou postscript x program ever x x winner will receive the fame and attention that go with have their x program entry post a a winner to programmer world-wide x x the contest rule and result be available by ftp a x or individually x in the obfuscate directory the judge will post the rule x in november to on usenet and other place x send question to jgm x x category include best obfuscated postscript best artwork x most compact best interactive program most useful and x anything so unusual and creative that it deserve an award x x the judge will choose the winner of each category x x alena lacova be a system administrator at nikhef institute for high x energy and nuclear physic in the netherland she be the author of x the postscript chao program which draw julium set mandelbrot set x and other kind of fractal function x x jonathan monsarrat be a graduate student from mit and brown university x in the he be the faq maintainer for the usenet newsgroup x and the author of the postscript zone and lametex x x chmod echo restore of fail set wc c if test then echo original size current size fi exit sunnyvale resident vote landon noll for sunnyvale city council seat 