from inoue inoue takeshi subject how to see characterset from we develop a toolkit run on the x window system the toolkit cope with any language base on facility a you know there be kind of implementation from mit release xsi and ximp my original implementation of the toolkit use xsi my toolkit manage each character size base on my own font management system in order to do that the type character string must be decompose to character set thi mean that if one type compound string with ascius and kanji mix for example be give each element of the array must be check it correspond character set base on a bite layout and application environment locale in thi case if the locale be each character will be classify either to or so we need a function to do thi the function must check how many character from the top be the same character set and what the character set be we could not find any public function to do that and inevitably use xsi internal function to construct that function the follow be the source code of that function thi may look like c code but it be really c id v iima exp iima ifndef define include extern int decomposecharacterset const in int in char buf out int buflen int out char charset out extern xmstring wchartoxmstring const extern xmstringcharset charsetofwchar const wc endif id v iima exp include include include include extern c include define xwcdecomposeglyphcharset define xmbfsc define xmbctidtocsid include undef xwcdecomposeglyphcharset undef xmbfsc undef xmbctidtocsid extern int xwcdecomposeglyphcharset xlocale const int char int int int extern charset xmbfsc xlocale csid extern csid xmbctidtocsid xlocale csid int decomposecharacterset const in int in char buf out int int out char charset out xlocale xlocale xfallbackconvert int ctid int statu charset xcharset statu xwcdecomposeglyphcharset xlocale buf ctid if statu succes xcharset xmbfsc xlocale xmbctidtocsid xlocale ctid charset xcharset xcharset null else charset null return statu an include file above be also xsi internal and we copy the file to the toolkit directory and compile a seriou issue occur when we try to compile a toolkit application on my hp machine with it o version of when we try to link an application base on my toolkit link error occur say that the follow function be miss xmbctidtocsid code xmbfsc code xwcdecomposeglyphcharset code xfallbackconvert code we have use mit release version of and it xsi implementation until and run application successfully one of the reason to use xsi wa that because hp do not release hp until the o and we have no way to know how hp would be implement we have hop xsi popularity and use it internal function the hp linker complain that there be no xsi internal function implement we observe from hp they use some ximp implementation but we be not sure if they use mit vanilla ximp version or their own version of ximp and therefore find just counter part function in mit ximp for xsi do not seem to lead u a solution my question and goal be to know how we can construct a function like list above is there any function to check character set of each element of type string depend on locale if it be a public function that be perfect but even if it be not we want to use any internal function in hp a we do for mit in order to render a type string there must be some machinery to judge character set and that be how the proper font be select for the string we have no way to find out that without any hp source file we want to know how we can use that for my goal any help or comment would be highly appreciate i also appreciate if anyone tell me about ximp treat around thi area even if it be not hp implementation thank you takeshi inoue inoue yokogawa electric corporation open system laboratory 