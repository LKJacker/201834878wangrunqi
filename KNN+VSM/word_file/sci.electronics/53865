from elliott paul elliott subject re analog demodulator in article skaro msf michael fulbright write i be try to build a synchronou demodulator and i hit a snag in my application i want to be able to change the gain of an op amp amplifier from to controlable vium a digital input the most obviou way i come up with be to use analog switch to adjust the gain of the op amp the only analog switch i have experience with it the unfortunately i want to switch an ac signal which go from about to and the be only for positive signal i have a carrier signal which vary between and i want to demodulate an input signal by feed the input signal thru a amp with a gain of when the carrier be at and thru a amp with a gain of when the carrier be the output be then low pa filter i believe thi be call lock in detection a well a synchronou demodulation look at the thi be a triple transmission-gate analog multiplexer with positive and negative power supply can be run from a single-ended supply a well with dual supply the logic input still range from grind volt to vdd thi be a neat well i think so design for a switchable-polarity amplifier input opamp output control x analog switch gnd all resistor be equal-value when the analog switch be close the amp be inverting-gain-of-one with the switch open it be non-inverting-gain-of-one you can clean up the circuit to trim out input offset current if thi hurt the balance thi would show up a carrier feed-through for high frequency the slew-rate of the opamp might cause problem especially if it be symmetrical and it usually be paul elliott dsc optilink petaluma ca usa uunet pyramid tekbspa optilink elliott or elliott i use to think i wa indecisive but now i not so sure 